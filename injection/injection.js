

console.log('%c h4cker Injected ', 'color: #fff; font-size: 40px; background-image: linear-gradient(to right, #d13939, #cd5a16, #be7900, #a49500, #80ad08, #5eaa33, #3ba64d, #00a062, #00825d, #006552, #0e4842, #1a2d2c); border: solid 1px #fff; border-radius: 28px; margin: 10px;');

var svg_1 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12.408 13.032c1.158-.062 2.854-.388 4.18-1.128.962-1.478 1.598-2.684 2.224-4-.86.064-1.852-.009-2.736-.257 1.068-.183 2.408-.565 3.422-1.216 1.255-1.784 2.185-4.659 2.502-6.429-2.874-.048-5.566.89-7.386 2.064-.614.7-1.146 2.389-1.272 3.283-.277-.646-.479-1.68-.242-2.542-1.458.767-2.733 1.643-4.177 2.86-.72 1.528-.834 3.29-.768 4.276-.391-.553-.915-1.63-.842-2.809-2.59 2.504-4.377 5.784-2.682 9.324 1.879-1.941 4.039-3.783 5.354-4.639-3.036 3.474-5.866 8.047-7.985 12.181l2.504-.786c1.084-1.979 2.059-3.684 2.933-4.905 3.229.423 6.096-2.168 8.028-4.795-.77.19-2.246-.058-3.057-.482z"/></svg>`;

var svg_2 = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M17.831 7.672c1.096-1.096 2.875-1.865 3.688-3.106.892-1.362.508-3.192-.851-4.085-1.362-.892-3.187-.508-4.081.854-.842 1.286-.801 3.322-1.433 4.779-.817 1.882-3.553 2.116-6.698.474-1.727 3.352-4.075 6.949-6.456 9.874l2.263 1.484c1.018-.174 2.279-1.059 2.792-2.03-.04 1.167-.478 2.2-1.337 2.983l4.275 2.797c.546-.544 1.054-.976 1.616-1.345-.319.643-.532 1.324-.63 1.99l2.532 1.659c1.5-2.884 4.416-7.343 6.455-9.874-2.82-2.272-3.657-4.936-2.135-6.454zm1.762-5.545c.454.296.58.908.281 1.36-.294.457-.905.582-1.356.286-.456-.297-.582-.906-.284-1.36.295-.455.905-.583 1.359-.286zm-3.959 15.037l-8.225-5.386 1.616-2.469 8.221 5.387-1.612 2.468z"/></svg>`;

var svg_3 = `<?xml version="1.0" encoding="iso-8859-1"?><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  height="24" width="24" viewBox="0 0 512 512" style="enable-background:new 0 0 512 512;" xml:space="preserve"> <g> <g> <path d="M507.353,245.245l-83.692-78.769c-4.289-4.039-10.57-5.141-15.98-2.803c-5.409,2.337-8.911,7.666-8.911,13.558v34.462 h-98.462v-98.462h34.462c5.893,0,11.221-3.502,13.558-8.911c2.336-5.409,1.236-11.69-2.803-15.98L266.755,4.647 C263.964,1.682,260.072,0,256,0c-4.072,0-7.964,1.682-10.755,4.647L166.476,88.34c-4.039,4.29-5.141,10.571-2.803,15.98 c2.337,5.409,7.666,8.911,13.558,8.911h34.462v98.462h-98.462v-34.462c0-5.893-3.502-11.221-8.911-13.558 c-5.41-2.337-11.69-1.236-15.98,2.803L4.647,245.245C1.682,248.036,0,251.928,0,256s1.682,7.964,4.647,10.755l83.692,78.769 c4.29,4.039,10.57,5.142,15.98,2.803c5.409-2.337,8.911-7.666,8.911-13.558v-34.462h98.462v98.462h-34.462 c-5.893,0-11.221,3.502-13.558,8.911c-2.336,5.41-1.236,11.69,2.803,15.98l78.769,83.692C248.036,510.318,251.928,512,256,512 c4.072,0,7.964-1.682,10.755-4.647l78.769-83.692c4.039-4.29,5.141-10.571,2.803-15.98c-2.337-5.409-7.666-8.911-13.558-8.911 h-34.462v-98.462h98.462v34.462c0,5.893,3.502,11.221,8.911,13.558c5.411,2.337,11.691,1.236,15.98-2.803l83.692-78.769 C510.318,263.964,512,260.072,512,256C512,251.928,510.318,248.035,507.353,245.245z M428.308,300.587v-15.049 c0-8.157-6.613-14.769-14.769-14.769h-128c-8.157,0-14.769,6.613-14.769,14.769v128c0,8.157,6.613,14.769,14.769,14.769h15.049 L256,475.682l-44.587-47.374h15.049c8.157,0,14.769-6.613,14.769-14.769v-128c0-8.157-6.613-14.769-14.769-14.769h-128 c-8.157,0-14.769,6.613-14.769,14.769v15.049L36.319,256l47.374-44.587v15.049c0,8.157,6.613,14.769,14.769,14.769h128 c8.157,0,14.769-6.613,14.769-14.769v-128c0-8.157-6.613-14.769-14.769-14.769h-15.049L256,36.319l44.587,47.374h-15.049 c-8.157,0-14.769,6.613-14.769,14.769v128c0,8.157,6.613,14.769,14.769,14.769h128c8.157,0,14.769-6.613,14.769-14.769v-15.049 L475.682,256L428.308,300.587z"/> </g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> <g> </g> </svg>`;

var svg_4 = `<svg xmlns="http://www.w3.org/2000/svg" style="fill: yellow;" width="24" height="24" viewBox="0 0 24 24"><path d="M9 12l-4.463 4.969-4.537-4.969h3c0-4.97 4.03-9 9-9 2.395 0 4.565.942 6.179 2.468l-2.004 2.231c-1.081-1.05-2.553-1.699-4.175-1.699-3.309 0-6 2.691-6 6h3zm10.463-4.969l-4.463 4.969h3c0 3.309-2.691 6-6 6-1.623 0-3.094-.65-4.175-1.699l-2.004 2.231c1.613 1.526 3.784 2.468 6.179 2.468 4.97 0 9-4.03 9-9h3l-4.537-4.969z"/></svg>`;

var svg_5 = `<svg xmlns="http://www.w3.org/2000/svg" style="fill: red;" width="24" height="24" viewBox="0 0 24 24"><path d="M16.143 2l5.857 5.858v8.284l-5.857 5.858h-8.286l-5.857-5.858v-8.284l5.857-5.858h8.286zm.828-2h-9.942l-7.029 7.029v9.941l7.029 7.03h9.941l7.03-7.029v-9.942l-7.029-7.029zm.932 11.667c-.127.328-1.695 3.888-2.096 4.786-.42.941-1.239 1.881-2.751 1.881h-2.627c-1.592 0-2.43-.945-2.43-2.596v-7.208c0-.956 1.316-.908 1.316-.044v3.16c0 .26.478.259.478 0v-5.079c0-.982 1.472-.957 1.472 0v4.795c0 .264.443.252.443-.005v-5.628c0-.957 1.457-.984 1.457 0l.001 5.692c0 .254.459.261.459 0v-4.78c0-.905 1.596-.933 1.596 0v5.417c0 .331.327.384.45.131.118-.24.605-1.315.613-1.327.49-1.029 2.128-.404 1.619.805z"/></svg>`;

var svg_6 = `
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.885 14.988l3.104-3.098.011.11c0 1.654-1.346 3-3 3l-.115-.012zm8.048-8.032l-3.274 3.268c.212.554.341 1.149.341 1.776 0 2.757-2.243 5-5 5-.631 0-1.229-.13-1.785-.344l-2.377 2.372c1.276.588 2.671.972 4.177.972 7.733 0 11.985-8.449 11.985-8.449s-1.415-2.478-4.067-4.595zm1.431-3.536l-18.619 18.58-1.382-1.422 3.455-3.447c-3.022-2.45-4.818-5.58-4.818-5.58s4.446-7.551 12.015-7.551c1.825 0 3.456.426 4.886 1.075l3.081-3.075 1.382 1.42zm-13.751 10.922l1.519-1.515c-.077-.264-.132-.538-.132-.827 0-1.654 1.346-3 3-3 .291 0 .567.055.833.134l1.518-1.515c-.704-.382-1.496-.619-2.351-.619-2.757 0-5 2.243-5 5 0 .852.235 1.641.613 2.342z"/></svg>`;


var toolbar_html = `

  
    <div class="h4c3r_toolbar_main" id="toolbar_id_">
      <div class="h4c3r_toolbar_item h4c3r_fill">
        <span>
            ${svg_1}
        </span>
      </div>
      <div class="h4c3r_toolbar_item ">
        <span class="h4c3r_reset" >
            ${svg_2}
        </span>
      </div>

      <div class="h4c3r_toolbar_item h4c3r_hide" >
        <span class="" >
            ${svg_6}
        </span>
      </div>

      <div class="h4c3r_toolbar_item " id="h4c3r_hot_reload" >
        <span class="h4c3r_hot_reload" >
            ${svg_4}
        </span>
      </div>

       <div class="h4c3r_toolbar_item " id="h4c3r_header" >
        <span class="h4c3r_drag" >
            ${svg_3}
        </span>
      </div>

    </div>
  </div>
  
  `;

var toolbar_hide = `

    <div class="h4c3r_toolbar_main" id="toolbar_id_">
      
    
      <div class="h4c3r_toolbar_item h4c3r_show">
        <span class="" >
            ${svg_6}
        </span>
      </div>

      <div class="h4c3r_toolbar_item " id="h4c3r_header" >
        <span class="h4c3r_drag" >
            ${svg_3}
        </span>
      </div>


    </div>
  
  `;


function init() {

    var hide_toolbar = localStorage.getItem('h4ck3r.hide');
    if (!hide_toolbar){
        localStorage.setItem('h4ck3r.hide', true);
    }

    $('body').prepend(`<div class="h4c3r_toolbar"></div>`);


    if (hide_toolbar == true || hide_toolbar == 1) {
        $('.h4c3r_toolbar').prepend(toolbar_html);
    } else {
        $('.h4c3r_toolbar').prepend(toolbar_hide);
    }

    var elmnt = document.getElementById("toolbar_id_");
    elmnt.style.top = localStorage.getItem('h4ck3r_position_top') ?? '10px';
    elmnt.style.left = localStorage.getItem('h4ck3r_position_bottom') ?? '0px';

    var reload_config = localStorage.getItem('h4ck3r.reload');

    reload_config = JSON.parse(reload_config);

    if (reload_config?.do == true) {

        console.log('%c hot relaod enabled ', 'color: #fff; font-size: 40px; background-color: red;');

        $('.h4c3r_hot_reload').html(svg_5);

        setTimeout(() => {

            setInterval(() => {

                window.location.reload();

            }, reload_config.seconds);

        }, reload_config.seconds);

    } else {

        console.log('%c hot relaod disabled ', 'color: #fff; font-size: 40px; background-color: red;');

    }

}


(function () {

    var toolbar_needed = localStorage.getItem('h4ck3r.toolbar.needed');
    if (!toolbar_needed) {
        localStorage.setItem('h4ck3r.toolbar.needed', false);
        toolbar_needed = false;
    }
    console.log(toolbar_needed, toolbar_needed == 'true');

    if (toolbar_needed == 'true') {

        init();

    }

})()


$('.h4c3r_fill').on('click', (e) => {
    fill_email();
    fill_text();
    fill_tel();
    fill_text_area();
    fill_select();
    fill_checkbox();
    fill_password();
})

$('.h4c3r_reset').on('click', (e) => {

    $("input").val('');
    $("textarea").val('');

})

$('.h4c3r_hide').on('click', (e) => {

    console.log(e);


    localStorage.setItem('h4ck3r.hide', 1);

    $('.h4c3r_toolbar').remove();
    init();

    localStorage.setItem('h4ck3r_position_top', '9px')
    localStorage.setItem('h4ck3r_position_bottom', '-65px')

    window.location.reload()

})

$('.h4c3r_show').on('click', (e) => {

    console.log(e);

    localStorage.setItem('h4ck3r.hide', 0);

    $('.h4c3r_toolbar').remove();
    init();
    window.location.reload()


})

$('#h4c3r_hot_reload').on('click', (e) => {

    var reload_config = localStorage.getItem('h4ck3r.reload');
    reload_config = JSON.parse(reload_config);

    console.log('click', reload_config);
    if (reload_config?.do == true) {
        console.log('%c hot relaod disabled ', 'color: #fff; font-size: 40px; background-color: red;');

        $('.h4c3r_hot_reload').html(svg_4);

        config = { seconds: 5000, do: false }

        localStorage.setItem('h4ck3r.reload', JSON.stringify(config))

    } else {
        console.log('%c hot relaod enabled ', 'color: #fff; font-size: 40px; background-color: red;');

        $('.h4c3r_hot_reload').html(svg_5);

        config = { seconds: 5000, do: true }
        localStorage.setItem('h4ck3r.reload', JSON.stringify(config))

        window.location.reload();


    }

});

const fill_email = function () {

    var sample_email = random_string() + '@yopmail.com';

    $("input[type='text']").each((i) => {

        var elm = $("input[type='email']")[i];

        $(elm).val(sample_email);
        $(elm).trigger('change');

    })

}

const fill_text = function () {

    $("input[type='text']").each((i) => {

        var elm = $("input[type='text']")[i];
        var str_len = 10;

        var max_length = $(elm).attr('maxlength');

        var minlength = $(elm).attr('minlength');

        if (minlength) {
            str_len = minlength + 1;
        }

        if (max_length) {
            str_len = max_length - 1;
        }

        var sample_string = random_string(str_len);

        $(elm).val(sample_string);
        $(elm).trigger('change');

    })

}

const fill_tel = function () {

    $("input[type='tel']").each((i) => {

        var elm = $("input[type='tel']")[i];

        var sample_string = '9' + random_number(9);

        $(elm).val(sample_string);
        $(elm).trigger('change');

    })

}

const fill_number = function () {

    $("input[type='number']").each((i) => {

        var elm = $("input[type='number']")[i];

        var str_len = 3;

        var max_length = $(elm).attr('min').length;

        var minlength = $(elm).attr('max').length;

        if (minlength) {
            str_len = minlength;
        }

        if (max_length) {
            str_len = max_length;
        }

        var sample_string = random_number(str_len);

        $(elm).val(sample_string);
        $(elm).trigger('change');

    })

}

const fill_text_area = function () {

    $("textarea").each((i) => {

        var elm = $("textarea")[i];
        var str_len = 50;

        var max_length = $(elm).attr('maxlength');

        var minlength = $(elm).attr('minlength');

        if (minlength) {
            str_len = minlength + 1;
        }

        if (max_length) {
            str_len = max_length - 1;
        }

        var sample_string = random_string(str_len);

        $(elm).html(sample_string);
        $(elm).trigger('change');

    })

}

function fill_select() {

    $("select").each((i) => {

        var elm = $("select")[i];
        var $options = $(elm).find('option');
        var random_val = ~~(Math.random() * $options.length);
        var option = $(elm).find('option')[random_val];
        $(elm).val($(option).val());
        $(elm).trigger('change');


    });

}

function fill_checkbox() {

    $("input[type='checkbox']").each((i) => {

        var elm = $("input[type='checkbox']")[i];
        $(elm).prop("checked", true);
        $(elm).trigger('change');


    });

}

function fill_password() {

    $("input[type='password']").each((i) => {

        var elm = $("input[type='password']")[i];
        $(elm).val("#Admin123");
        $(elm).trigger('change');


    });

}

function random_string(length = 8) {
    var result = '';
    var characters = 'abcdefghijklmnopqrstuvwxyz';
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    return result;
}

function random_number(length = 8) {
    var result = '';
    var characters = '0123456789';
    var charactersLength = characters.length;
    for (var i = 0; i < length; i++) {
        result += characters.charAt(Math.floor(Math.random() * charactersLength));
    }
    return result;
}

function take_screenshot() {

    $('.h4c3r_toolbar').hide();

    html2canvas(document.body).then(function (canvas) {
        document.body.appendChild(canvas);
    })
        .then(() => {
            var canvas = document.querySelector('canvas');
            canvas.style.display = 'none';
            var image = canvas.toDataURL("image/png").replace("image/png", "image/octet-stream");
            var a = document.createElement("a");
            a.setAttribute('download', 'myImage.png');
            a.setAttribute('href', image);
            a.click();
        });

    $('.h4c3r_toolbar').show();

}